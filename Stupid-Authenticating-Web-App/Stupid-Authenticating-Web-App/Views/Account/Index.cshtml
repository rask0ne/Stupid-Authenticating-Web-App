@using Microsoft.AspNet.Identity.EntityFramework
@model IEnumerable<Stupid_Authenticating_Web_App.Models.ApplicationUser>

@{
    ViewBag.Title = "List Of Users";
}

<h2>List Of Users</h2>

<style type="text/css">
    TABLE {
        width: 200px; 
        border-collapse: collapse; 
        border-spacing: 7px 11px;
        border-top: white;
    }
    TD, TH {
        padding: 3px; 
        border: 1px solid white;
        border-top: white;
    }
    TH {
        background: white;
        border-top: white;
    }
</style>
<script>
    function editBar(name) {
        var str = dsocument.getElementById("email").value;
        var status = document.getElementById("status");
        var re = /^[^\s()<>@,;:\/]+@\w[\w\.-]+\.[a-z]{2,}$/i;
        if (re.test(str)) status.innerHTML = "Адрес правильный";
        else status.innerHTML = "Адрес неверный";
        if(isEmpty(str)) status.innerHTML = "Поле пустое";
    }
    function editBar(names) {
        var str = dsocument.getElementById("email").value;
        var status = document.getElementById("status");
        var re = /^[^\s()<>@,;:\/]+@\w[\w\.-]+\.[a-z]{2,}$/i;
        if (re.test(str)) status.innerHTML = "Адрес правильный";
        else status.innerHTML = "Адрес неверный";
        if(isEmpty(str)) status.innerHTML = "Поле пустое";
    }
</script>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Email)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model) {
        <tr class="user-table__buttons">
            <td>
                @Html.DisplayFor(modelItem => item.Email)
            </td>
            <td>
                <a href="@Url.Action("Edit", "Account", new {name = item.UserName})" class="edit-button edit-button_type_edit">
                    <span class="glyphicon glyphicon-wrench"></span>
                </a>
                <a href="@Url.Action("Delete", "Account", new {name = item.UserName})" class="edit-button edit-button_type_delete">
                    <span class="glyphicon glyphicon-trash"></span>
                </a>

            </td>
        </tr>
    }

</table>
